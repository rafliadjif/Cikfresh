<!doctype html>
<html lang="id">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Tentang Kami — CIKFRESH</title>
    <meta name="description" content="Tentang CIKFRESH, toko sayur lokal di Serang Baru." />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --green: #2e8b57;
            --accent: #f2a541;
            --muted: #6b7280;
            --bg: #F8F9FA;
            --card-bg: #FFFFFF;
            --border-color: #E5E7EB;
        }
        * { box-sizing: border-box; }
        body { margin: 0; font-family: 'Inter', system-ui, Arial, sans-serif; background: var(--bg); color: #0f172a; }
        .container { max-width: 1100px; margin: 0 auto; padding: 20px; }
        /* Header */
        header { background: var(--card-bg); box-shadow: 0 2px 6px rgba(0,0,0,.06); position: sticky; top: 0; z-index: 50; }
        .nav-container { display: flex; align-items: center; justify-content: space-between; gap: 16px; }
        .brand { display: flex; align-items: center; gap: 12px; }
        .logo { width: 44px; height: 44px; background: linear-gradient(135deg, var(--green), #38b000); border-radius: 10px; display: flex; align-items: center; justify-content: center; color: white; font-weight: 700; }
        .brand-name { font-weight: 700; }
        .brand-tagline { font-size: 13px; color: var(--muted); }
        nav a { margin-left: 12px; color: var(--muted); text-decoration: none; font-weight: 500; }
        nav a:hover { color: var(--green); }
        /* Cart */
        .cart { position: fixed; right: 18px; bottom: 18px; background: linear-gradient(180deg, #fff, #f8fff8); padding: 16px; border-radius: 12px; box-shadow: 0 8px 20px rgba(2,6,23,.1); width: 340px; max-width: 90%; z-index: 100; }
        .cart h3 { margin: 0 0 12px 0; }
        .cart-list { max-height: 260px; overflow-y: auto; margin-bottom: 12px; }
        .cart-item { display: flex; gap: 12px; padding: 12px 0; border-bottom: 1px solid var(--border-color); align-items: center; }
        .cart-item-info { flex-grow: 1; }
        .cart-item-title { font-weight: 700; }
        .cart-item-price { font-size: 13px; color: var(--muted); }
        .cart-item-actions { display: flex; align-items: center; gap: 8px; }
        .qty-btn { width: 24px; height: 24px; border-radius: 50%; border: 1px solid var(--border-color); background: #fff; cursor: pointer; }
        .remove-btn { border: none; background: transparent; cursor: pointer; padding: 0; }
        .cart-total-line { display: flex; justify-content: space-between; align-items: center; margin-top: 12px; }
        #cartTotal { font-weight: 700; font-size: 1.2em; }
        /* Checkout Modal */
        .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(2,6,23,.35); align-items: center; justify-content: center; padding: 20px; z-index: 200; }
        .modal-content { background: white; border-radius: 12px; padding: 24px; max-width: 480px; width: 100%; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        .modal-content h3 { margin: 0 0 16px 0; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        form input, form textarea, form select { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); margin-top: 8px; font-family: inherit; }
        .form-group { margin-bottom: 12px; }
        .form-footer { display: flex; gap: 8px; margin-top: 16px; justify-content: flex-end; }
        .btn-secondary { padding: 10px 16px; border-radius: 8px; border: 1px solid var(--border-color); background: #fff; cursor: pointer; }
        footer { padding: 40px 0; color: var(--muted); text-align: center; }
    </style>
</head>
<body>
    <template id="cartItemTemplate">
        <div class="cart-item">
            <div class="cart-item-info">
                <div class="cart-item-title"></div>
                <div class="cart-item-price"></div>
            </div>
            <div class="cart-item-actions">
                <button class="qty-btn" onclick="">-</button>
                <span class="qty">1</span>
                <button class="qty-btn" onclick="">+</button>
                <button class="remove-btn" onclick="" title="Hapus item">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#c33"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/></svg>
                </button>
            </div>
        </div>
    </template>

    <header>
        <div class="container nav-container">
            <div class="brand">
                <div class="logo">CF</div>
                <div>
                    <div class="brand-name">CIKFRESH</div>
                    <div class="brand-tagline">Sayur lokal, Kirim cepat</div>
                </div>
            </div>
            <nav>
                <a href="index.html">Home</a>
                <a href="produk.html">Produk</a>
                <a href="testimoni.html">Testimoni</a>
                <a href="tentang.html">Tentang</a>
                <a href="kontak.html">Kontak</a>
            </nav>
        </div>
    </header>

    <main class="container">
        <section id="tentang" style="margin-top: 40px; margin-bottom: 40px; text-align: center;">
            <h2>Tentang CIKFRESH</h2>
            <p class="muted" style="max-width: 700px; margin-left: auto; margin-right: auto; line-height: 1.6;">CIKFRESH adalah toko sayur lokal Anda yang berlokasi di <strong>Jalan Raya Perumahan KSB, Sukaragam, Kec. Serang Baru, Bekasi, Jawa Barat (17330)</strong>. Kami berkomitmen membawa kesegaran sayuran pilihan langsung dari petani ke dapur Anda. Dengan jangkauan pengiriman di area <strong>Serang Baru, Cikarang, dan sekitarnya</strong>, kami siap memudahkan Anda mendapatkan bahan makanan sehat setiap hari.
            </p>
        </section>
        </main>

    <div class="cart" id="cartBox">
        <h3>Keranjang</h3>
        <div class="cart-list" id="cartList">
            <div class="muted" style="font-size: 14px;">Keranjang kosong</div>
        </div>
        <div class="cart-total-line">
            <div>
                <div style="font-size: 14px; color: var(--muted);">Total</div>
                <div id="cartTotal">Rp 0</div>
            </div>
            <button class="btn" id="checkoutBtn" onclick="openCheckout()" disabled>Checkout</button>
        </div>
    </div>

    <div id="checkoutModal" class="modal-overlay">
        <div class="modal-content">
            <h3>Buat Pesanan</h3>
            <form id="orderForm">
                <div class="form-grid">
                    <div class="form-group"><input name="name" placeholder="Nama" required /></div>
                    <div class="form-group"><input name="phone" placeholder="No. HP (WA)" required /></div>
                </div>
                <div class="form-group"><textarea name="address" placeholder="Alamat lengkap (termasuk kec/kab)" rows="3" required></textarea></div>
                <div class="form-group" style="display:flex; align-items:center; gap:8px;">
                    <label style="color: var(--muted);">Metode Bayar</label>
                    <select name="payment">
                        <option value="cod">Bayar di tempat (COD)</option>
                        <option value="transfer">Transfer / e-wallet</option>
                    </select>
                </div>
                <div class="form-footer">
                    <button type="button" onclick="closeCheckout()" class="btn-secondary">Batal</button>
                    <button class="btn" type="submit">Kirim Pesanan via WhatsApp</button>
                </div>
            </form>
        </div>
    </div>

    <footer class="container">
        © CIKFRESH — Prototype Tugas
    </footer>

    <script>
        // --- GANTI NOMOR WHATSAPP DI SINI ---
        const WHATSAPP_NUMBER = '62895365249519'; // Ganti dengan nomor WA tujuan (diawali 62)
        // --- DAFTAR PRODUK (Dibutuhkan untuk logika keranjang) ---
        const products = [
             {id:1, name:'Terong Ungu', unit:'500 gr', price:10000, desc:'Terong ungu segar ukuran sedang', image: 'images/Terong-Ungu.jpg'},
             {id:2, name:'Jeruk Nipis', unit:'250 gr', price:8000, desc:'Jeruk nipis segar kaya vitamin C', image: 'images/Jeruk-Nipis.jpg'},
             {id:3, name:'Pare', unit:'1 buah', price:7000, desc:'Pare hijau segar untuk tumisan', image: 'images/Pare.jpg'},
             {id:4, name:'Terong Lalap', unit:'250 gr', price:6000, desc:'Terong bulat hijau untuk lalapan', image: 'images/Terong-Lalap.jpg'},
             {id:5, name:'Tomat', unit:'500 gr', price:9000, desc:'Tomat merah segar dan berair', image: 'images/Tomat.jpg'},
             {id:6, name:'Wortel', unit:'500 gr', price:12000, desc:'Wortel impor yang manis & renyah', image: 'images/Wortel.jpg'},
             {id:7, name:'Timun', unit:'500 gr', price:8000, desc:'Timun segar cocok untuk lalapan', image: 'images/Timun.jpg'},
             {id:8, name:'Daun Bawang', unit:'1 ikat', price:5000, desc:'Daun bawang penyedap masakan', image: 'images/Daun-Bawang.jpg'},
             {id:11, name:'Brokoli', unit:'500 gr', price:18000, desc:'Brokoli hijau segar dan padat', image: 'images/Brokoli.jpg'},
             {id:12, name:'Labu Siam', unit:'1 buah', price:6000, desc:'Labu siam segar untuk sayur bening', image: 'images/Labu-Siam.jpg'}
        ];
        // --- LOGIKA APLIKASI ---
        const productGrid = document.getElementById('productGrid');
        const productCardTemplate = document.getElementById('productCardTemplate');
        const cartList = document.getElementById('cartList');
        const cartItemTemplate = document.getElementById('cartItemTemplate');
        const cartTotalEl = document.getElementById('cartTotal');
        const checkoutBtn = document.getElementById('checkoutBtn');
        const checkoutModal = document.getElementById('checkoutModal');
        let cart = []; // Format: { id, qty }

        function renderProducts() {
            // === PENGECEKAN PENTING! ===
            if (!productGrid || !productCardTemplate) return; 
        }
        function renderCart() {
            cartList.innerHTML = '';
            if (cart.length === 0) {
                cartList.innerHTML = '<div class="muted" style="font-size: 14px;">Keranjang kosong</div>';
                updateCartTotal();
                return;
            }
            cart.forEach(ci => {
                const p = products.find(prod => prod.id === ci.id);
                const item = document.importNode(cartItemTemplate.content, true);
                item.querySelector('.cart-item-title').textContent = p.name;
                item.querySelector('.cart-item-price').textContent = `Rp ${numberWithCommas(p.price)}`;
                item.querySelector('.qty').textContent = ci.qty;
                const actions = item.querySelector('.cart-item-actions').querySelectorAll('button');
                actions[0].onclick = () => changeQty(p.id, -1);
                actions[1].onclick = () => changeQty(p.id, 1);
                actions[2].onclick = () => removeFromCart(p.id);
                cartList.appendChild(item);
            });
            updateCartTotal();
        }
        function addToCart(id) {
            const found = cart.find(ci => ci.id === id);
            if (found) {
                found.qty++;
            } else {
                cart.push({ id, qty: 1 });
            }
            renderCart();
        }
        function removeFromCart(id) {
            cart = cart.filter(c => c.id !== id);
            renderCart();
        }
        function changeQty(id, delta) {
            const item = cart.find(c => c.id === id);
            if (!item) return;
            item.qty += delta;
            if (item.qty < 1) {
                removeFromCart(id);
            }
            renderCart();
        }
        function updateCartTotal() {
            const total = cart.reduce((sum, ci) => {
                const product = products.find(p => p.id === ci.id);
                return sum + (product.price * ci.qty);
            }, 0);
            cartTotalEl.textContent = `Rp ${numberWithCommas(total)}`;
            checkoutBtn.disabled = cart.length === 0;
        }
        function numberWithCommas(x) {
            return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }
        // Checkout Logic
        function openCheckout() { checkoutModal.style.display = 'flex'; }
        function closeCheckout() { checkoutModal.style.display = 'none'; }
        document.getElementById('orderForm').addEventListener('submit', function (e) {
            e.preventDefault();
            const form = new FormData(e.target);
            const total = cart.reduce((s,ci)=>s + products.find(p=>p.id===ci.id).price * ci.qty,0);
            let message = `Halo CIKFRESH, saya mau pesan:\n\n`;
            cart.forEach(ci => {
                const p = products.find(prod => prod.id === ci.id);
                message += `- ${p.name} (*${ci.qty}* x ${p.unit})\n`;
            });
            message += `\n*Total: Rp ${numberWithCommas(total)}*\n\n`;
            message += `*Data Penerima:*\n`;
            message += `Nama: ${form.get('name')}\n`;
            message += `No. HP: ${form.get('phone')}\n`;
            message += `Alamat: ${form.get('address')}\n`;
            message += `Pembayaran: ${form.get('payment')}\n\n`;
            message += `Terima kasih!`;
            const whatsappURL = `https://api.whatsapp.com/send?phone=${WHATSAPP_NUMBER}&text=${encodeURIComponent(message)}`;
            window.open(whatsappURL, '_blank');
            alert('Pesanan sedang dialihkan ke WhatsApp. Silakan kirim pesan yang sudah disiapkan.');
            cart = [];
            renderCart();
            closeCheckout();
        });
        // Initial Render
        renderProducts();
        renderCart();
    </script>
</body>
</html>